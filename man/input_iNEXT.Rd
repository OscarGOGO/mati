% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/input_iNEXT.R
\name{input_iNEXT}
\alias{input_iNEXT}
\title{Generate Input Objects for the iNEXT Diversity Estimator}
\usage{
input_iNEXT(
  input = NULL,
  effort = c("days", "cameras"),
  species_field = NULL,
  assemblages_field = NULL,
  date_field = NULL,
  date_format = "\%d/\%m/\%Y",
  station_field = NULL,
  type = c("raw", "frequency")
)
}
\arguments{
\item{input}{\code{data.frame}. (\emph{required}) Table containing the camera-trap data.}

\item{effort}{\code{character}. Type of sampling effort to use: \code{"days"} or \code{"cameras"}.
Determines whether effort is defined by date range or by number of stations.}

\item{species_field}{\code{character}. (\emph{required}) Name of the column in \code{input}
that contains the species identifier. If \code{NULL}, all records are assumed to
belong to a single species.}

\item{assemblages_field}{\code{character}. Name of the column defining sampling units or
assemblage categories (e.g., wet/dry season, disturbed/undisturbed).
If \code{NULL}, all records are assumed to belong to a single assemblage.}

\item{date_field}{\code{character}. Name of the column containing the date of each
record. If \code{NULL}, all records are assumed to occur on the same day.
\strong{Only used when \code{effort = "days"}.}}

\item{date_format}{\code{character}. Format used to parse the dates in \code{date_field}.
Default: \code{"\%d/\%m/\%Y"}
where \verb{\%d} = day, \verb{\%m} = month, \verb{\%Y} = year, separated by \code{"/"}.
Adjust this if your date format differs.

Examples:
\code{"02/23/2023"} → \code{"\%m/\%d/\%Y"}
\code{"02-23-2023"} → \code{"\%m-\%d-\%Y"}}

\item{station_field}{\code{character}. Name of the column in \code{input} containing the
unique station identifier. If \code{NULL}, all records are assumed to originate from
a single station.
\strong{Only used when \code{effort = "cameras"}.}}

\item{type}{\code{character}. Output format to generate for \strong{iNEXT}:
\itemize{
\item \code{"raw"} — returns a list of incidence vectors (presence/absence per
sampling unit). Corresponds to \code{datatype = "incidence_raw"} in \code{iNEXT}.

\item \code{"frequency"} — returns a species (rows) × assemblages (columns)
frequency table. Corresponds to \code{datatype = "incidence_freq"} in \code{iNEXT}.
}}
}
\value{
The output depends on the selected \code{type}:

\strong{If \code{type = "raw"}:}
A named \code{list}, where each element corresponds to one assemblage and contains a
\strong{binary incidence vector} (1 = species detected, 0 = not detected).

\strong{If \code{type = "frequency"}:}
A \code{data.frame} (or matrix) with:
\itemize{
\item Rows = species
\item Columns = assemblages
\item Values = number of records per species per assemblage
}

This object is ready to be passed directly to:
\preformatted{
iNEXT(x, q = 0, datatype = "incidence_raw")
}
or
\preformatted{
iNEXT(x, q = 0, datatype = "incidence_freq")
}
}
\description{
\code{input_iNEXT()} transforms camera-trap detection data into the formats required
by the \strong{iNEXT} package for estimating sample-size– and coverage-based species
diversity. The function supports two types of sampling effort:
\strong{(a) days}, based on the temporal extent of sampling, and
\strong{(b) cameras}, based on the number of active stations.
}
\details{
Depending on the selected \code{type}, the function generates either a list of raw
incidence vectors (presence/absence per sampling unit) or a species-by-assemblage
frequency table. These formats correspond directly to \code{"incidence_raw"} and
\code{"incidence_freq"} data types expected by the \code{iNEXT()} function.
}
\examples{
\dontrun{
datab <- read.csv("sipecam_final.csv", header = TRUE)

# -------- Effort = days --------
# Raw input
library(iNEXT); library(ggplot2); library(gridExtra)

test1 <- input_iNEXT(input = datab,
                     effort = "days",
                     species_field = "Species",
                     date_field = "Date",
                     date_format = "\%d/\%m/\%Y",
                     type = "raw")

# Apply iNEXT:
out <- iNEXT(test1, q = 0, datatype = "incidence_raw")
out

# Plot iNEXT:
p1 <- ggiNEXT(out, type = 1) + theme_classic() +
      labs(x = "Camera-trap days", y = "Species richness")
p2 <- ggiNEXT(out, type = 2) + theme_classic() +
      labs(x = "Camera-trap days")
grid.arrange(p1, p2, nrow = 1)

# Frequency input
test2 <- input_iNEXT(input = datab,
                     effort = "days",
                     species_field = "Species",
                     date_field = "Date",
                     date_format = "\%d/\%m/\%Y",
                     type = "frequency")

# Multiple assemblages
test3 <- input_iNEXT(input = datab,
                     effort = "days",
                     species_field = "Species",
                     assemblages = "Muestreo",
                     date_field = "Date",
                     date_format = "\%d/\%m/\%Y",
                     type = "frequency")
out <- iNEXT(test3, q = 0, datatype = "abundance")
ggiNEXT(out, type = 1) + theme_classic() +
  labs(x = "Camera-trap days", y = "Species richness")

# -------- Effort = cameras --------

test4 <- input_iNEXT(input = datab,
                     effort = "cameras",
                     species_field = "Species",
                     station_field = "Station",
                     type = "raw")
}
}
