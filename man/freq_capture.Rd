% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/freq_capture.R
\name{freq_capture}
\alias{freq_capture}
\title{Estimate Capture Frequency from Camera-Trap Data}
\usage{
freq_capture(
  input = NULL,
  species = NULL,
  species_field = "Species",
  individ_field = NULL,
  station_field = "Station",
  date_field = "Date",
  date_format = "\%d/\%m/\%Y",
  total_stations = NULL,
  sampling_effort = NULL,
  method = 1,
  season_field = NULL,
  distance_clean = NULL,
  lat = NULL,
  long = NULL
)
}
\arguments{
\item{input}{\code{data.frame}. (\emph{required}) Table containing the camera-trap records.}

\item{species}{\code{character}. Name (or vector of names) of the species for which
capture frequency should be estimated. These values must match those in the
column specified by \code{species_field}. If \code{NULL}, capture frequency is computed
for \strong{all species} in the dataset.}

\item{species_field}{\code{character}. (\emph{required}) Name of the column in \code{input}
that contains the species identifier. If \code{NULL}, all records are assumed to
belong to a single species.}

\item{station_field}{\code{character}. (\emph{required}) Name of the column in \code{input}
that contains the unique identifier for each camera station. If \code{NULL}, all
records are assumed to originate from a single station.}

\item{date_field}{\code{character}. Name of the column containing the \strong{date} of
each record. If \code{NULL}, all records are assumed to occur on the same day.}

\item{date_format}{\code{character}. Format of the dates in \code{date_field}.
Default is \code{"\%d/\%m/\%Y"}, where:
\itemize{
\item \verb{\%d} = day
\item \verb{\%m} = month
\item \verb{\%Y} = year
}
All components are separated by \code{"/"}. Adjust this format depending on your data.

Examples:
\code{"02/23/2023"} → \code{"\%m/\%d/\%Y"}
\code{"02-23-2023"} → \code{"\%m-\%d-\%Y"}}

\item{total_stations}{\code{numeric}. Total number of camera stations in the study.
If \code{NULL}, the number of stations is inferred directly from \code{station_field}.}

\item{sampling_effort}{\code{numeric}. Sampling effort expressed in camera-days.
If \code{NULL}, effort is automatically estimated from the oldest and most recent
dates in the data (or according to the selected \code{method}).}

\item{method}{\code{integer}. (\emph{required}) Method used to estimate sampling effort.
Two options are available:

\itemize{
\item \strong{\code{1}}: Does not differentiate among the minimum and maximum dates
for each camera. The data are split by year. For each year, the earliest
and latest dates across all cameras are used to estimate the number of
sampling days, which is then multiplied by the number of cameras. Results
are summed across years.

\if{html}{\out{<div class="sourceCode">}}\preformatted{\\itemize\{
  \\item If `season_field` is not `NULL`, effort is further subdivided
  within each year according to sampling periods (e.g., wet/dry season),
  preventing inactive periods from inflating effort.
  \\item This method may **overestimate** sampling effort because it assumes
  all cameras were active during the entire date range.
\}
}\if{html}{\out{</div>}}

\item \strong{\code{2}}: Similar to method 1 but calculated \strong{per camera}. For each
station, the number of days between its first and last photograph is computed
and then summed across stations.

\if{html}{\out{<div class="sourceCode">}}\preformatted{\\itemize\{
  \\item This method may **underestimate** sampling effort because it relies
  only on days with registered detections.
\}
}\if{html}{\out{</div>}}

}}

\item{season_field}{\code{character}. Name of the column representing categories
that distinguish different sampling periods (e.g., wet vs. dry season).
If \code{NULL}, sampling is assumed to be continuous.}

\item{distance_clean}{\code{numeric}. Minimum distance (in meters) between camera
stations. Stations that are \strong{farther apart} than this threshold will be
discarded. This parameter requires both \code{lat} and \code{long} to be defined.}

\item{lat}{\code{character}. Name of the column containing the \strong{latitude} for
each record or station.}

\item{long}{\code{character}. Name of the column containing the \strong{longitude} for
each record or station.}

\item{indiv_field}{\code{character}. Name of the column indicating the number of
individuals recorded in each photo. See Example 6 for details.}
}
\value{
A \code{data.frame} with one row per species and the following columns:
\itemize{
\item \code{Species}: species name.
\item \code{NRecords}: total number of records (or independent detections) for the species.
\item \code{NStations}: total number of camera stations where the species was detected.
\item \verb{Frequency-100 days}: capture frequency standardized to 100 camera-days,
typically computed as
\eqn{(NRecords / sampling\_effort) * 100}.
\item \verb{Frequency modified-100 days}: capture frequency standardized to 100
camera-days and weighted by the proportion of stations where the species
occurred, emphasizing species that are both frequent and widespread across stations.
}
}
\description{
\code{capture_frequency()} computes capture frequency indices for one or multiple
species based on camera-trap detection data and a standardized measure of
sampling effort. The function returns, for each species, its total number of
records, the number of stations where it was detected, and two standardized
capture-frequency metrics expressed per 100 camera-days.
}
\details{
The first index (\verb{Frequency-100 days}) is the classical capture frequency,
calculated as the total number of records divided by the sampling effort
(camera-days) and scaled to 100 camera-days. The second index
(\verb{Frequency modified-100 days}) additionally weights this frequency by the
proportion of stations where the species was recorded, highlighting species
that are both frequently detected and widely distributed across stations.
}
\examples{
\dontrun{
datab <- read.csv("sipecam_final.csv", header = TRUE)

#Run function to find out about independent events
datab <- event_independ(input = datab,
                        station_field = "Station",
                        species_field = "Species",
                        date_field = "Date",
                        date_format = "\%d/\%m/\%Y",
                        time_field = "Time",
                        independent_time = 1,
                        independent_units = "hours")

#Example 1: All species. The values set for the station_field and
#sampling_effort parameters are not the actual values.

Ejemplo1 <- freq_capture(input = datab,
                        species = NULL,
                        species_field = "Species",
                        station_field = "Station",
                        total_stations = 52,
                        sampling_effort = 4740,
                        distance_clean = NULL,
                        lat = NULL,
                        long = NULL)

#Example 2: Species filter.
Example2 <- freq_capture(input = datab,
                        species = c("Bassariscus astutus", "Odocoileus virginianus", "Lynx rufus"),
                        species_field = "Species",
                        station_field = "Station",
                        total_stations = 52,
                        sampling_effort = 4740,
                        distance_clean = NULL,
                        lat = NULL,
                        long = NULL)

#Example 3: Minimum distance filter between stations.

Example3 <- freq_capture(input = datab,
                        species = NULL,
                        species_field = "Species",
                        station_field = "Station",
                        total_stations = 52,
                        sampling_effort = 4740,
                        distance_clean = 600,
                        lat = "Latitud",
                        long = "Longitud")
#Example 4: No sampling effort.
Example4 <- freq_capture(input = datab,
                        species = NULL,
                        species_field = "Species",
                        station_field = "Station",
                        date_field = "Date",
                        total_stations = 52,
                        sampling_effort = NULL,
                        method = 1,
                        season_field = NULL)
#Example 5: Consider the content of individuals per record. In a real case,
#the independent events function event_independ() should be run considering
#the “indiv_field” parameter and then the freq_capture()
#function should be applied.

#Example with fake data. New field with random data with 2 and 3 individuals
datab$Individuos <- 1
datab$Individuos[sample(1:nrow(datab), 100)] <- sample(c(2, 3), 100, replace = TRUE)

Ejemplo5 <- freq_capture(input = datab,
                        species = NULL,
                        species_field = "Species",
                        individ_field = "Individuos",
                        station_field = "Station",
                        date_field = "Date",
                        total_stations = 52,
                        sampling_effort = NULL,
                        method = 1,
                        season_field = NULL)
}
}
